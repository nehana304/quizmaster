<div class="auth-container fade-in">
  <div class="auth-card scale-in">
    <!-- Left Side - Illustration -->
    <div class="auth-illustration">
      <div class="illustration-content">
        <h1>Welcome Back!</h1>
        <p>Sign in to access your personalized quiz dashboard and continue your learning journey with QuizMaster.</p>
        
        <div class="illustration-features">
          <div class="feature-item">
            <div class="feature-icon">
              <i nz-icon nzType="check" nzTheme="outline"></i>
            </div>
            <span>Access hundreds of quizzes</span>
          </div>
          <div class="feature-item">
            <div class="feature-icon">
              <i nz-icon nzType="check" nzTheme="outline"></i>
            </div>
            <span>Track your progress</span>
          </div>
          <div class="feature-item">
            <div class="feature-icon">
              <i nz-icon nzType="check" nzTheme="outline"></i>
            </div>
            <span>Compete with others</span>
          </div>
          <div class="feature-item">
            <div class="feature-icon">
              <i nz-icon nzType="check" nzTheme="outline"></i>
            </div>
            <span>Create your own quizzes</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Right Side - Login Form -->
    <div class="login-form-container">
      <h1>Sign In</h1>
      <p class="subtitle">Enter your credentials to access your account</p>
      
      <form nz-form [formGroup]="validateForm" (ngSubmit)="submitForm()" class="login-form">
        <nz-form-item>
          <nz-form-control nzHasFeedback [nzErrorTip]="usernameErrorTpl">
            <nz-input-group nzPrefixIcon="user">
              <input 
                type="text" 
                nz-input 
                formControlName="name" 
                placeholder="Enter your username"
                autocomplete="username" />
            </nz-input-group>
            <ng-template #usernameErrorTpl let-control>
              <ng-container *ngIf="control.hasError('required')">Please enter your username</ng-container>
              <ng-container *ngIf="control.hasError('minlength')">Username must be at least 3 characters</ng-container>
            </ng-template>
          </nz-form-control>
        </nz-form-item>

        <nz-form-item>
          <nz-form-control nzHasFeedback [nzErrorTip]="passwordErrorTpl">
            <nz-input-group nzPrefixIcon="lock" [nzSuffix]="suffixTemplate">
              <input 
                [type]="passwordVisible ? 'text' : 'password'" 
                nz-input 
                formControlName="password" 
                placeholder="Enter your password"
                autocomplete="current-password" />
            </nz-input-group>
            <ng-template #suffixTemplate>
              <i nz-icon 
                 [nzType]="passwordVisible ? 'eye-invisible' : 'eye'" 
                 (click)="togglePasswordVisibility()" 
                 style="cursor: pointer;"
                 [title]="passwordVisible ? 'Hide password' : 'Show password'"></i>
            </ng-template>
            <ng-template #passwordErrorTpl let-control>
              <ng-container *ngIf="control.hasError('required')">Please enter your password</ng-container>
              <ng-container *ngIf="control.hasError('minlength')">Password must be at least 6 characters</ng-container>
            </ng-template>
          </nz-form-control>
        </nz-form-item>

        <div class="login-options">
          <label nz-checkbox formControlName="remember">
            <span>Remember me for 30 days</span>
          </label>
          <a class="forgot-password" routerLink="/auth/forgot-password">Forgot password?</a>
        </div>

        <button 
          nz-button 
          nzType="primary" 
          nzBlock 
          [nzLoading]="isLoading" 
          [disabled]="validateForm.invalid"
          type="submit">
          <span *ngIf="!isLoading">Sign In</span>
          <span *ngIf="isLoading">Signing In...</span>
        </button>

        <!-- Social Login Section -->
        <div class="social-login">
          <div class="divider">
            <span>Or continue with</span>
          </div>
          
          <div class="social-buttons">
            <div class="social-btn" (click)="signInWithGoogle()">
              <i nz-icon nzType="google" nzTheme="outline"></i>
              Google
            </div>
            <div class="social-btn" (click)="signInWithGithub()">
              <i nz-icon nzType="github" nzTheme="outline"></i>
              GitHub
            </div>
          </div>
        </div>

        <div class="register-now">
          Don't have an account? <a routerLink="/register">Create one now</a>
        </div>
      </form>
    </div>
  </div>
</div>
